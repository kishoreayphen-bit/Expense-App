# Local profile datasource (override with your local Postgres if desired)
spring.datasource.url=jdbc:postgresql://localhost:${POSTGRES_PORT:5432}/${POSTGRES_DB:expenses}
spring.datasource.username=${POSTGRES_USER:expense_user}
spring.datasource.password=${POSTGRES_PASSWORD:expense_pass}
spring.datasource.hikari.maximum-pool-size=5

# Logging configuration for debugging
logging.level.root=INFO

# Spring Security
logging.level.org.springframework.security=TRACE
logging.level.org.springframework.security.web=TRACE
logging.level.org.springframework.security.authentication=TRACE
logging.level.org.springframework.security.crypto.password=TRACE

# Application packages
logging.level.com.expenseapp=DEBUG
logging.level.com.expenseapp.auth=TRACE

# Web
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.filter=DEBUG

# Hibernate/JPA
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# Log format
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Enable HikariCP logging
logging.level.com.zaxxer.hikari=DEBUG

# Enable transaction management logging
logging.level.org.springframework.transaction=TRACE
logging.level.org.springframework.orm.jpa=TRACE

# Enable validation
logging.level.org.hibernate.validator=DEBUG
